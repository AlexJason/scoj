extends layout/template.pug

block css
    link(rel='stylesheet', href='/css/global.css')
    link(rel='stylesheet', href='/css/datagrid.css')
    link(rel='stylesheet', href='/css/tag.css')

block content
    div.problemlist-search.card
        p(style='font-size: 20px; margin: 0px') Hydrogen OJ Problem Set
    div.problemlist-list.card
        table.datagrid
            thead
                tr
                    th 用户
                    th 题号
                    th 题目名称
                    th 评测结果
                    //th.problemlist-table-difficulty 难度
                    //th.problemlist-table-pass 通过率
            tbody
                each submission in submissions
                    tr
                        td= submission.user.username
                        td= submission.problem.pid
                        td.problemlist-table-title: a(href=`/problem/${submission.sid}`)= submission.problem.title
                        - const statusText = ['Waiting', 'Accepted', 'Compile Error', 'Unaccepted'];
                        td: div(class=`tag tag-status-${submission.status}`): span= statusText[submission.status]
                        //td.problemlist-table-pass
                            div.meter(title=`${item.accept}/${item.try}`): div(style=`width: ${item.accept / item.try * 100 || 0}%`)

